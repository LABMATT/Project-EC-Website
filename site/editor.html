<!DOCTYPE html>
<html>
    <head> 
        <title>Editor</title>
        <link rel="stylesheet" type="text/css" href="\ech\HGC-ECH\site\editorstyle.css">
    </head>
<body onload="init()">

    <ul>    
        <li><a class="active" href="#Explorer">Explorer</a></li>
        <li><a href="#ViewSelectedPage">View Selected Page</a></li>
        <li><a href="#ViewSite">View Site"</a></li>
        <li><a href="#ForceSave">Force Save</a></li>
      </ul>

      <div id="tree">
          <h1>Explorer</h1>
      </div>

      <div class="edit">
      <div id="numdiv">

        <textarea id="linenum" name="linenum" rows="30" cols="1" wrap="soft" disabled>
1
  2
3
4
5
6
7
8
</textarea>
      </div>

      <div id="editdiv">
      <textarea id="editbox" name="editbox" rows="30" cols="10"> 
1 
2
3
4
5
6
7
8
</textarea>
</div>
</div>
      
</body>
</html>

<script>
function init()
{
    var ta = document.getElementById('linenum');
    ta.onclick = function (e) {
        var lineNo = ta.value.substr(0, ta.selectionStart).split(/\r?\n|\r/).length;
        var lineText = ta.value.split(/\r?\n|\r/)[lineNo - 1];
        var numOfSpaces = lineText.split(/\s/).length - 1;
        console.log(lineNo, lineText, numOfSpaces);
    }
}



</script>